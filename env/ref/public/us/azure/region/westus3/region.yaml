region: westus3
network:
  address_spaces: ["10.0.0.0/21"]
  subnet_names: ["gateway", "services", "management", "kubernetes", "pods"]
  subnet_prefixes:
    ["10.0.0.0/24", "10.0.1.0/24", "10.0.2.0/24", "10.0.3.0/24", "10.0.4.0/22"]
kubernetes:
  version: 1.27
  automatic_channel_upgrade: patch
  sku_tier: Free
  agents:
    min_count: 1
    max_count: 6
    size: standard_d2lds_v5
    only_critical_addons_enabled: false
  auto_scaler_profile_enabled: true
  auto_scaler_profile_expander: least-waste
  application_gateway:
    enabled: true
  node_pools:
    compute-2-core:
      enable_auto_scaling: true
      max_count: 6
      min_count: 0
      name: compute-2-core
      vm_size: standard_d2lds_v5
      zones: ["1", "2", "3"]
      node_labels:
        computeClass: compute
        storageClass: network
      node_taints: ["computeClass=compute:PreferNoSchedule"]
      cpu_cfs_quota_enabled: true
      cpu_manager_policy: static
    compute-4-core:
      enable_auto_scaling: true
      max_count: 6
      min_count: 0
      name: compute-4-core
      vm_size: standard_d4lds_v5
      zones: ["1", "2", "3"]
      node_labels:
        computeClass: compute
        storageClass: network
      node_taints: ["computeClass=compute:PreferNoSchedule"]
      cpu_cfs_quota_enabled: true
      cpu_manager_policy: static
    local-nvme-8-core:
      enable_auto_scaling: true
      max_count: 6
      min_count: 0
      name: local-nvme-8-core
      vm_size: Standard_L8s_v3
      zones: ["1", "2", "3"]
      node_labels:
        computeClass: compute
        storageClass: local-nvme
      node_taints: ["computeClass=compute:PreferNoSchedule","storageClass=local-nvme:PreferNoSchedule"]
      cpu_cfs_quota_enabled: true
      cpu_manager_policy: static