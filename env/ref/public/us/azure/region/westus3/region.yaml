region: westus3
network:
  address_spaces: ["10.0.0.0/21"]
  subnet_names: ["gateway", "services", "management", "kubernetes", "pods"]
  subnet_prefixes:
    ["10.0.0.0/24", "10.0.1.0/24", "10.0.2.0/24", "10.0.3.0/24", "10.0.4.0/22"]
kubernetes:
  version: 1.27
  automatic_channel_upgrade: patch
  sku_tier: Free
  agents:
    min_count: 1
    max_count: 6
    size: standard_d2lds_v5
    only_critical_addons_enabled: false
  auto_scaler_profile_enabled: true
  auto_scaler_profile_expander: least-waste
  application_gateway:
    enabled: true
  node_pools:
    wc2snx:
      enable_auto_scaling: true
      node_count: 0
      max_count: 6
      min_count: 0
      name: wc2snx
      vm_size: standard_d2lds_v5
      zones: ["1", "2", "3"]
      node_labels:
        computeClass: compute
        storageClass: network
      node_taints: ["computeClass=compute:PreferNoSchedule"]
      cpu_cfs_quota_enabled: true
      cpu_manager_policy: static
      linux_os_config:
        transparent_huge_page_enabled: madvise
        transparent_huge_page_defrag: defer+madvise
        swap_file_size_mb: 0
        sysctl_config:
          fs_file_max: 64000
      custom_ca_trust_enabled: false
      enable_host_encryption: true
      enable_node_public_ip: false
      fips_enabled: false
      kubelet_disk_type: OS
      max_pods: 20
      os_disk_size_gb: 128
      os_sku: "Ubuntu"

    wc4snx:
      enable_auto_scaling: true
      max_count: 6
      min_count: 0
      name: wc4snx
      vm_size: standard_d4lds_v5
      zones: ["1", "2", "3"]
      node_labels:
        computeClass: compute
        storageClass: network
      node_taints: ["computeClass=compute:PreferNoSchedule"]
      cpu_cfs_quota_enabled: true
      cpu_manager_policy: static
      linux_os_config:
        transparent_huge_page_enabled: madvise
        transparent_huge_page_defrag: defer+madvise
        swap_file_size_mb: 0
        sysctl_config:
          fs_file_max: 64000
      custom_ca_trust_enabled: false
      enable_host_encryption: true
      enable_node_public_ip: false
      fips_enabled: false
      kubelet_disk_type: OS
      max_pods: 20
      os_disk_size_gb: 128
      os_sku: "Ubuntu"

    wc8slnx:
      enable_auto_scaling: true
      max_count: 6
      min_count: 0
      name: wc8slnx
      vm_size: Standard_L8s_v3
      zones: ["1", "2", "3"]
      node_labels:
        computeClass: compute
        storageClass: local-nvme
      node_taints:
        [
          "computeClass=compute:PreferNoSchedule",
          "storageClass=local-nvme:PreferNoSchedule",
        ]
      cpu_cfs_quota_enabled: true
      cpu_manager_policy: static
      linux_os_config:
        transparent_huge_page_enabled: madvise
        transparent_huge_page_defrag: defer+madvise
        swap_file_size_mb: 0
        sysctl_config:
          fs_file_max: 64000
      custom_ca_trust_enabled: false
      enable_host_encryption: true
      enable_node_public_ip: false
      fips_enabled: false
      kubelet_disk_type: OS
      max_pods: 20
      os_disk_size_gb: 128
      os_sku: "Ubuntu"
